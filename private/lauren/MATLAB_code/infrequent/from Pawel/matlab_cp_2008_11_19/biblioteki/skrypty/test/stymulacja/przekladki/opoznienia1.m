delays=zeros(8,4,4);

%dane na 2005_01_24

%w kolejnosci: 0->I, 0->-I, -I->I, I->-I;

delays(8,1,:)=[1.87 1.3 1.52 1.21]'; %1 LSB
delays(8,2,:)=[0.87 0.41 0.88 0.55]'; %4 LSB
delays(8,3,:)=[0.616 0.189 0.72 0.33]'; %16 LSB
delays(8,4,:)=[0.606 .119 .72 .25]'; %64 LSB

delays(7,1,:)=[1.53 0.38 1.18 0.53]';
delays(7,2,:)=[.53 .139 .56 .29]';
delays(7,3,:)=[.256 .065 .37 .21]';
delays(7,4,:)=[.241 .038 .32 .19]';

delays(6,1,:)=[2.146 1.97 .79 .49]';
delays(6,2,:)=[.717 .643 .38 .27]';
delays(6,3,:)=[.274 .237 .24 .21]';
delays(6,4,:)=[.137 .102 .22 .18]';

delays(5,1,:)=[4.05 2.284 2.84 1.05]';
delays(5,2,:)=[1.321 .729 1.05 .48]';
delays(5,3,:)=[.48 .269 .49 .29]';
delays(5,4,:)=[.211 .123 .31 .22]';

delays(4,1,:)=[9.9 10 5.1 5.39]';
delays(4,2,:)=[3.265 3.27 1.91 1.91]';
delays(4,3,:)=[1.204 1.213 .87 .88]';
delays(4,4,:)=[.523 .53 .51 .52]';

delays(3,1,:)=[29.1 18.8 24.2 13.4]';
delays(3,2,:)=[9.58 6.31 8.2 4.8]';
delays(3,3,:)=[3.552 2.485 3.2 2.1]';
delays(3,4,:)=[1.635 1.204 1.62 1.21]';

delays(2,1,:)=[75.93 143.3 55.6 117.9]';
delays(2,2,:)=[27.38 47.82 18.7 39]';
delays(2,3,:)=[10.03 17.94 7.2 14.9]';
delays(2,4,:)=[4.545 7.85 3.6 6.8]';

delays(1,1,:)=[680.2 264.7 645 240]';
delays(1,2,:)=[219.9 85.17 208.6 79]';
delays(1,3,:)=[77.46 32.63 73.6 29.8]';
delays(1,4,:)=[32.47 15.89 30.9 14.9]';

worst_case=zeros(8,4);

for i=1:8
    for j=1:4
        worst_case(i,j)=max(delays(i,j,:));
    end
end
    
prad=zeros(1,11);
for i=1:11
    prad(1,12-i)=500/4^(i-1);
end

a=loglog(prad(1,1:4),worst_case(1,:),'bd-',prad(1,2:5),worst_case(2,:),'bd--',prad(1,3:6),worst_case(3,:),'rd-',prad(1,4:7),worst_case(4,:),'rd--',prad(1,5:8),worst_case(5,:),'kd-',prad(1,6:9),worst_case(6,:),'kd--',prad(1,7:10),worst_case(7,:),'md-',prad(1,8:11),worst_case(8,:),'gd-');
grid on;
legend('60n','250n','1u','4u','15u','60u','250u','1m');
for i=1:8
	set(a(i),'LineWidth',2);
end
xlabel('current [uA]');
ylabel('delay [us]');
