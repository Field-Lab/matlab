%% 2011-05-11-6
on_midgets_d02str = [  22   36   45  149  147   30  155  203  168  170   84]; % In order!
on_midgets_d02    = [4652 5477 5867 6421 6511 4879 6902 3272 7442 7486 1246]; % In order!


%% 2011-06-24-6
off_midget_list_data003_additivity  = [111 73 70 85 186 2 24 127 43 51 158];
off_midget_list_data005_additivity  = [50 78 64 137 158 120 15 29 42];
off_parasol_list_data008_additivity = [34 75 88 96 125 198];
off_midgets_list_data008_allconerun = [16 40 57 83 144 183];

%% 2011-07-05-4
off_midget_list_data002_additivity = [11 38 76 90 95 101 116 124 130 146 167 197 216 222];

%% 2011-07-14-6
off_midgets_d01str = [53 76 98 118 122 139 190 215 238];
off_midgets_d05str = [68 169 199 203 296];

%% 2011-08-04-2
%off_parasol_list_data001 = [14 27 32 38 44 50 97 165 201 234 289 244 297 266 313]; we used these but the map moved
off_parasol_list_data005 = [317 2357 2836 4111 4279 4461 5779 6528 7216] % Moved again!  A few may be usable.  Fuckers
off_parasol_list_data008 = [8 59 63 256 266 270 317 331 418 433 449] % Moved again, a few may be usable.

%% ?? pretty sure these are 2011-08-04-6
om_d01 = [308 393 456 723 2118 3200 3484 4021 4277 558 678 2417 4807 6260 7670]; % Cut some of these actually
om_d02 = [1298 393 1204 4156 7669 2133 4507 7506];

%% 2011-10-14-1 om fd01
om_d01 = [136 947 2311 7471 3063 3797 4996 5717 6811];

%% 2011-10-25-5 om fd01
om_d01 = [68 184 698 1491 2554 2583 3169 6408 6631 454 948 5222];
op_d04 = [1985 1277 512 6046 7171 2176];

%% 2011-10-25-9 on/off midgets f06
oom_d06 = [181 619 1411 1966 1982 3422 4066 4489 1187 7760 6814 6093 4866 1096 5436 3258 2193];

%% 2011-12-04-1 off parasols f00
offp_d00 = [61 293 1237 1561 7007];
offp_d02 = [34 289 1636];%[34 289 1158 1636 7157];

%% 2011-12-13-2
onM_d00_init = [1531 1561 1608 1817 1982 2179 2251 2283 2356 2612 2658 2716 2764 2776 2777 2821 2822 3001 3016 3064 3121 3196 3245 3318 3347 3617 3856 3961 4517 4726 5191 6392 6543];
onM_d00  = [1561 1608 1817 1982 2283 2612 2658 2716 2822 3016 3196 3617 3961 4517 5191 6392];
offM_d00 = [3937 812 1006 707 5419]; % Lots of movement fuckers

onM_d04_init = [601 858 1532 1562 1681 1968 2255 2283 2658 2674 2716 2778 2780 2821 2822 3067 3137 3196 3244 3335 4517 4562 4726 5718 6436 6542 6601 7336];
onM_d04 = [601 1562 1681 1968 2283 2658 2821 3244 4562 6542 6601 7336];
offM_d04 = [541 5161];

offM_d08 = [541 1321 1351 2251 3031 3586 4576 5162 7486];
onM_d08 = [856];

offM_d18 = [811 916 1321 1351 2658 3586 3632 4141 4576 4861 5357 6905];
onM_d18 = [601 2661 2821 2822];

%% 2012-04-13-1
%offM_d02 = [288 1321 1341 *1442 *1666 *2118 *2161 **2389 2596 **2644 2704 **2779 2867 2941 *3001 4637 5491 5866 *6286 6322 6395 6663 6857 7700];
%offM_d02 = [288 1321 1341 1442 1666 2118 2161 2389 2596 2644 2704 2779 2867 2941 3001 4637 5491 5866 6286 6322 6395 6663 6857 7700];
offM_d02 = [288 1321 2118 2389 2941 3001 5866 6286 6395 6663 6857 7700];
cone_mapf4 = index_masks(spaced, { ...
    [32 467 623 696 816 759 675 601 307 228] ...
    [29 464 622 750 809 758 735 604 303 236] ...
    [27 469 620 695 813 760 669 596 308 237] ...
    [28 564 557 690 817 755 733 664 363 238]});
offM_d06 = [2536 5927 6136 7700];

%% 2012-08-09-1
% Didn't use any of this; fucking bubble!
% offM_d01_freeman = [395 679 1276 1279 1606 4516 5101];
% offM_d01_freeman_cones = [ 250,  252,  245,  349
%                           1187, 1192, 1186, 1188
%                            225,  323,  224,  325
%                            334,  335,  326,  433
%                            532,  533,  535,  654
%                           1240, 1239, 1241, 1324
%                            788,  929,  928, 1040];

%% 2012-08-21-0
% See also Google Spreadsheet
offM_d01 = [31 513 693 1009 1788 1996 2973 3153 4399 4703 5431 6724 6953 1101 4338 4027];

cones_f01 = [504, 561, 533, 547
    411, 450, 456, 480
    176, 203, 195, 221
    530, 531, 542, 557
    292, 343, 371, 400
    323, 347, 369, 386
    865, 878, 887, 858
    1021, 1061, 1081, 1095
    1214, 1130, 1120, 1169
    1457, 1464, 1513, 1545
    1791, 1821, 1820, 1850
    1017, 1043, 1085, 1131
    786, 820, 821, 822
    67, 71, 81, 101
    1711, 1748, 1755, 1767
    1435, 1473, 1482, 1526]';
cones_f01_groups = {cones_f01(1,:), cones_f01(2,:), cones_f01(3,:), cones_f01(4,:)};
cone_mapf01 = index_masks(spaced, cones_f01_groups);
figure; imagesc(cone_mapf01); hold on; voronoi(datarun.cones.centers(:,1) .* datarun.cones.mosaic.voronoi_masks_scale, datarun.cones.centers(:,2) .* datarun.cones.mosaic.voronoi_masks_scale); axis equal tight
dlmwrite('/snle/acquisition/maps/2012-08-21-0/freeman4_d01_localmax/map-0000.txt', cone_mapf01, 'delimiter', '\t', 'newline', 'pc');

% Not used; piece went downhill
% offM_d06 = [31 292 397 558 996 1238 1790 2073 3046 3155 5572 6061 7098];


%% 2012-08-21-2
offM_d01 = [153 196 391 408 887 1268 1777 2223 2266 2708 2828 3033 4956 5447 6005 6721 7682];

%% 2012-09-06-0
offM_d04 = [275 436 904 932 1892 2146 2716 2812 2986 3212 3395 3722 4126 4936 5103 5746 6031 6289 6317 6889 6947 7022 7505];

offM_d04jf = [2146 2491 2812 3766 4581 4936 5103 5746 6004 6200 6650 7008];

% This was used in the middle of the night, what follows is a better way to
% do it.
%
% asdf = {
%     [302, 322, 356, 366]
%     [654, 674, 673, 693]
%     [531, 565, 556, 601]
%     [967, 1007, 1032, 1014]
%     [994, 1015, 1016, 995]
%     [1144, 1159, 1143, 1192]
%     [873, 895, 910, 896]
%     [1115, 1116, 1122, 1133]
%     [1000,1001,1019, 1036]
%     [882, 898, 906, 942]
%     [797, 806, 832, 833]
%     [636, 645, 649, 627]
% };
% 
% offM_d04jf_cones = {[] [] [] []};
% for i = 1:length(asdf)
%     offM_d04jf_cones{1}(end+1) = asdf{i}(1);
%     offM_d04jf_cones{2}(end+1) = asdf{i}(2);
%     offM_d04jf_cones{3}(end+1) = asdf{i}(3);
%     offM_d04jf_cones{4}(end+1) = asdf{i}(4);
% end

asdf = [302, 322, 356, 366
    654, 674, 673, 693
    531, 565, 556, 601
    967, 1007, 1032, 1014
    994, 1015, 1016, 995
    1144, 1159, 1143, 1192
    873, 895, 910, 896
    1115, 1116, 1122, 1133
    1000,1001,1019, 1036
    882, 898, 906, 942
    797, 806, 832, 833
    636, 645, 649, 627];
offM_d04jf_cones = mat2cell(asdf', ones(size(asdf,2),1))';
clear asdf;

% New code in SINGE_CONE_VORONOI_MAPS_SCRIPT_PHLI assumes format as in asdf
% and handles conversion to cell array for INDEX_MASKS there.


%% 2012-09-13-2
onM_d01 = [1909 2225 2267 2449 2795 4056 4337 5556 6079 6153 6409 6679 6802 6917 7292];

offM_d05 = [1396 1607 1727 1816 1966 2026 2116 2386 2942 6991];
offP_d05 = [46 376 1231 4441 5371 5551 6496];

offM_d09 = [151 1396 1741 1816 1863 1966 2026 2116 6796 6991];
offP_d09 = [376 1471 4636 4771 5551];


%% 2012-09-21-2
offM_d09 = [151 181 541 691 1051 1276 1351 2658 2672 2731 4141 4216 4381 5086 5491 6046 6346 6406 7006 7696];

% loadopts = struct('load_params', true, 'load_neurons', true, 'load_ei', true);
% d.d09a = load_data('/snle/acquisition/2012-09-21-2/data009/data009', loadopts)
% d.d11a = load_data('/snle/acquisition/2012-09-21-2/data011/data011', loadopts)
% 
% cell_list_map = map_ei(d.d09a, d.d11a, 'master_cell_type', 'all');
% d.d11a.offM_fd09a = cell_list_map(get_cell_indices(d.d09a, offM_d09));
% clear cell_list_map;

offM_d11 = [152 181 542 691 1051 1276 1352 2673 2672 2731 4141 3481 4471 5086 5491 6046 6346 6406 7006 7696];

% Not used; fucking bubble!
%onM_d14 = [95 197 293 301 771 991 1773 2015 2687 3726 4066 4218 4231 4771 5582 5673 6181 6256 6318 6634 6752 7381];


%% 2012-09-24-1
offM_d03 = [346  421 1232 1861 2807 2837 3766 4186 5207 5266 5761 6095 6826 6871 7397];
offM_d05 = [346 1158 1951 2356 3121 4006 4126 5118 5266 5446 5761 6091 6676 7081 7397];

jfcones_d05 = {[]
    [112, 140, 106, 119]
    []
    [551, 531, 538, 556]
    [764, 779, 860, 859]
    []
    [1549, 1572, 1509, 1531]
    []
    [1700, 1709, 1717, 1691]
    []
    []
    []
    []
    []
    []};

%% 2012-09-24-5
onP_d01 = [336 3923 5509 6651];
onM_d01 = [2617 2977];

onP_d03 = [3454 3739 5209 6049 6499 7237];
onM_d03 = [367 1011 2614 2855 3064 3919 4597 4971 5543 7042 7127];

% offM_d03 = [48 138 451 541 556 961 1336 1366 1546 2252 2596 2686 2776 3121 3211 3466 3646 3721 3811 3826 4306 4351 4411 4516 4591 4771 5056 5567 5611 5671 5972 6271 6391 6466 6586 6946 7081 7337 7396 7516];
% Some too close for all cones
% Didn't get to run; piece crapped out from low oxygen
% offM_d03 = [48 138 451 541 556 961 1336 1366 1546 2252 2596 2686 2776 3121 3211 3466 3721 3811 3826 4306 4516 4591 4771 5056 5567 5611 5671 5972 6271 6391 6466 6586 6946 7081 7337 7396 7516];


%% 2012-09-27-1
offM_d03 = [138 1277 1863 2598 2641 4681 5268 5431 6091 6198 6451 6515 6827 7081 7396 7726 7743];
jfcones_d03 = [296, 322, 286, 305
    460, 485, 426, 451
    99, 125, 88, 107 
    869, 903, 916, 960
    757, 797, 796, 837
    1325, 1342, 1225, 1245
    1924, 1960, 1976, 1980
    1399, 1409, 1433, 1478
    1482, 1527, 1426, 1420
    1336, 1380, 1152, 1207
    1004, 1039, 1027, 943
    1056, 1096, 998, 1042
    716, 724, 744, 695
    801, 822, 760, 761
    609, 631, 667, 632
    337, 373, 420, 439
    161, 167, 150, 181];


%% 2012-09-27-5
offM_d07 = [1413 5311 6766 6887 6991 7307];

%% 2013-03-11-1
%onM_d04 = [1247 2437];
%offM_d04 = [496 512 1067 1081 1803 2191 2341 2795 2956 3107 3333 3392 3706 3797 5237 6721 6872];
%offP_d04 = 2746;
% not run, but M- transferred to d06

offM_d06 = [496 511 1126 1234 1666 2191 2341 2956 3107 3334 3391 3796 4141 5236 6871 6886];
jfcones_d06 = [1382, 1397, 1365, 1372
1264, 1166, 1227, 1235
1018, 963, 964, 1046
1358, 1381, 1328, 1389
1045, 1090, 1030, 1149
966, 1004, 972, 930
907, 926, 900, 920
810, 847, 839, 828
603, 631, 578, 620
515, 554, 525, 545
470, 500, 451, 466
220, 252, 251, 212
302, 295, 348, 338
393, 423, 417, 438
690, 691, 657, 623
794, 833, 817, 850];

offM_d10 = [331 424 511 1069 1232 1666 2191 2356 2881 3106 3333 3391 3991 4141 4876 5343 5626 6076 7066 7547];

nullf13 = [331 428 511 1067 1085 1246 1666 2356 2881 3106 3334 3391 3796 4141 4801 5343 6574 7067 7547];
jfcones_d13 = [1003, 1029, 1024, 996
1300, 1313, 1322, 1338
1164, 1156, 1137, 1178
984, 977, 1000, 1026
1312, 1328, 1319, 1327
1101, 1135, 1047, 1035
904, 928, 935, 951
845, 877, 851, 876
618, 654, 635, 665
553, 596, 626, 646
378, 373, 318, 390
282, 304, 329, 275
155, 173, 201, 154
835, 855, 883, 856
1086, 1132, 1098, 1111
1172, 1198, 1199, 1188
272, 273, 231, 238
538, 569, 520, 639
750, 762, 848, 854];